<!DOCTYPE html>
<!--
   Licensed to the Apache Software Foundation (ASF) under one or more
   contributor license agreements.  See the NOTICE file distributed with
   this work for additional information regarding copyright ownership.
   The ASF licenses this file to You under the Apache License, Version 2.0
   (the "License"); you may not use this file except in compliance with
   the License.  You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-  2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Apache Shiro Authenticators | Apache Shiro</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Understanding Apache Shiro Authenticators - the component responsible for verifying user identity. Learn how Authenticators work with Realms and AuthenticationStrategies.">
    <meta property="og:description" content="Understanding Apache Shiro Authenticators - the component responsible for verifying user identity. Learn how Authenticators work with Realms and AuthenticationStrategies.">
    <meta name="keywords" content='authenticator,authentication,security,realms'>
    <meta name="generator" content="JBake">
    <meta name="google-site-verification" content="QIax6uT5UX3enoU0G8Pz2pXbQ45KaQuHZ3nCh9V27mw">
    <meta name="google-site-verification" content="ecFap6dWJgS_GCCtxmJQJ_nFYQhM6EgSpBPZDU7xsCE">
    <meta name="google-site-verification" content="gBTYOG8lMfNb_jrWrH3kFbudpEs_WrAJ2lb2-zLRaso"/>
    <meta name="msvalidate.01" content="0B57EB46CBFAD8FD45008D2DB6B6C68C">

    <meta property="og:title" content="Apache Shiro Authenticators | Apache Shiro"/>
    <meta property="og:type" content="article"/>
      <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@ApacheShiro" />
    <meta property="article:modification_time" content="2010-03-18T00:00:00Z"/>
    <meta property="article:tag" content='authenticator'/>
    <meta property="article:tag" content='authentication'/>
    <meta property="article:tag" content='security'/>
    <meta property="article:tag" content='realms'/>
    <meta property="og:locale" content="en_US" />
    <meta property="og:url" content='https://shiro.apache.org/authenticator.html'/>
    <meta property="og:image" content='images/shiro-featured-image.png'/>
    <meta property="og:image:width" content='1200'/>
    <meta property="og:image:height" content='628'/>
    <meta property="og:site_name" content="Apache Shiro"/>

    <!-- Le styles -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="bootstrap-icons-1.13.1/bootstrap-icons.css" rel="stylesheet">
    <link href="css/asciidoctor.css" rel="stylesheet">
    <link href="css/base.css" rel="stylesheet">
    <link href="highlight.js-11.11.1/styles/default.min.css" rel="stylesheet">
    <link href="css/gh-pages/gh-fork-ribbon.css" rel="stylesheet"/>

    <!-- Theme toggle script (loaded early to prevent flash) -->
    <script src="js/theme.js"></script>

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="favicon.ico">

    <!-- Matomo -->
    <script>
     var _paq = window._paq = window._paq || [];
     /* tracker methods like "setCustomDimension" should be called before
    "trackPageView" */
     _paq.push(["setDoNotTrack", true]);
     _paq.push(["disableCookies"]);
     _paq.push(['trackPageView']);
     _paq.push(['enableLinkTracking']);
     (function() {
       var u="https://analytics.apache.org/";
       _paq.push(['setTrackerUrl', u+'matomo.php']);
       _paq.push(['setSiteId', '2']);
       var d=document, g=d.createElement('script'),
    s=d.getElementsByTagName('script')[0];
       g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
     })();
    </script>
    <!-- End Matomo Code -->
  </head>
  <body>
    <div id="top-bar"></div>
    <a class="github-fork-ribbon right-top" href="https://github.com/apache/shiro" title="Fork me on GitHub">Fork me on GitHub</a>

    <div id="wrap">

      <div class="masthead">
        <p class="lead">
          <a href="index.html"><img src="images/apache-shiro-logo.png" style="height:100px; width:auto; vertical-align: bottom; margin-top: 20px;" alt="Apache Shiro Logo"></a>
          <span class="tagline">Simple. Java. Security.</span>
          <a class="pull-right" href="https://www.apache.org/events/current-event.html">
            <img style="padding-top: 8px" src="https://www.apache.org/events/current-event-125x125.png" alt="Apache Software Foundation Event Banner"/>
          </a>
        </p>
      </div>

	<!-- Fixed navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm mb-4">
      <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="get-started.html">Get Started</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="documentation.html">Docs</a>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown-webapps" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Web Apps
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown-webapps">
                <li><a class="dropdown-item" href="web.html">General</a></li>
                <li><a class="dropdown-item" href="jaxrs.html">JAX-RS</a></li>
                <li><a class="dropdown-item" href="jakarta-ee.html">Jakarta EE</a></li>
                <li><a class="dropdown-item" href="dependency-chain.html">Jakarta EE with Dependency Chains</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" href="web-features.html">Features</a></li>
              </ul>
            </li>

            <li><a class="nav-link" href="features.html">Features</a></li>

            <!-- integrations -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown-integrations" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Integrations
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown-integrations">
                <li><a class="dropdown-item" href="spring-boot.html">Spring</a></li>
                <li><a class="dropdown-item" href="guice.html">Guice</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" href="integration.html">Third-Party Integrations</a></li>
              </ul>
            </li>

            <!-- Community -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown-community" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Community
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown-community">
                <li><a class="dropdown-item" href="forums.html">Community Forums</a></li>
                <li><a class="dropdown-item" href="mailing-lists.html">Mailing Lists</a></li>
                <li><a class="dropdown-item" href="articles.html">Articles</a></li>
                <li><a class="dropdown-item" href="news.html">News</a></li>
                <li><a class="dropdown-item" href="events.html">Events</a></li>
                <li><a class="dropdown-item" href="troubleshooting.html">Troubleshooting & FAQ</a></li>
                  <li><a class="dropdown-item" href="support.html">Community Support</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" href="commercial-support.html">Commercial Support</a></li>
                <li><a class="dropdown-item" href="community.html">More</a></li>
              </ul>
            </li>

            <!-- About -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown-about" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                About
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown-about">
                <li><a class="dropdown-item" href="about.html">About</a></li>
                <li><a class="dropdown-item" href="privacy-policy.html">Privacy Policy</a></li>
                <li><a class="dropdown-item" href="security-model.html">Security Model</a></li>
                <li><a class="dropdown-item" href="security-reports.html">Vulnerability Reports</a></li>
              </ul>
            </li>
          </ul>

          <ul class="d-flex justify-content-end navbar-nav mb-2 mb-lg-0">
            <!-- The ASF -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown-asf" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Apache Software Foundation
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown-asf">
                <li><a class="dropdown-item" href="https://www.apache.org/">Apache Homepage</a></li>
                <li><a class="dropdown-item" href="https://www.apache.org/licenses/">License</a></li>
                <li><a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                <li><a class="dropdown-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                <li><a class="dropdown-item" href="https://www.apache.org/security/">Security</a></li>
              </ul>
            </li>
            <!-- Theme toggle -->
            <li class="nav-item d-flex align-items-center">
              <button id="theme-toggle" type="button" aria-label="Toggle dark mode" title="Toggle dark mode">
                <span id="theme-icon">ðŸŒ™</span>
              </button>
            </li>
          </ul>
        </div>
      </div>
    </nav>

	<div class="page-header">
		<h1>Apache Shiro Authenticators</h1>
	</div>


  <div class="admonitionblock tip">
    <table>
      <tbody>
        <tr>
          <td class="icon">
            <div class="title">Handy Hint</div>
          </td>
          <td class="content">
            <div class="title">Shiro v1 version notice</div>
            <div class="paragraph">
              <p>As of February 28, 2024, Shiro v1 was superseded by v2.<p>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#Authenticator-Role">Role in the SecurityManager</a></li>
<li><a href="#Authenticator-ModularRealmAuthenticator">ModularRealmAuthenticator</a></li>
<li><a href="#Authenticator-SingleVsMultipleRealms">Single vs. Multiple Realms</a></li>
<li><a href="#Authenticator-AuthenticationStrategy">AuthenticationStrategy</a></li>
<li><a href="#Authenticator-Configuration">Configuration</a></li>
<li><a href="#Authenticator-RealmInteraction">How Authenticators Work with Realms</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>An <code>Authenticator</code> is a component responsible for verifying that a user actually is who they claim to be.
It is the core component that executes the authentication process on behalf of the <a href="/subject.html">Subject</a>.</p>
</div>
<div class="paragraph">
<p>While the <a href="/authentication.html">Authentication</a> documentation explains the concepts and workflow of authentication in Shiro,
the Authenticator represents the actual implementation component that performs identity verification.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Authenticator-Role">Role in the SecurityManager</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="/securitymanager.html">SecurityManager</a> does not perform authentication directly.
Instead, it delegates authentication requests to its internal <code>Authenticator</code> instance.
When a <a href="/subject.html">Subject</a> calls <a href="/static/current/apidocs/org/apache/shiro/subject/Subject.html#login(org.apache.shiro.authc.AuthenticationToken)"><code>login(token)</code></a>,
the SecurityManager receives the request and immediately delegates to the Authenticator by calling
<a href="/static/current/apidocs/org/apache/shiro/authc/Authenticator.html#authenticate(org.apache.shiro.authc.AuthenticationToken)"><code>authenticate(token)</code></a>.</p>
</div>
<div class="paragraph">
<p>The Authenticator takes the submitted <a href="/static/current/apidocs/org/apache/shiro/authc/AuthenticationToken.html"><code>AuthenticationToken</code></a>
and uses it to verify the Subject&#8217;s identity.
If verification succeeds, it returns an <a href="/static/current/apidocs/org/apache/shiro/authc/AuthenticationInfo.html"><code>AuthenticationInfo</code></a> object.
If verification fails, it throws an <a href="/static/current/apidocs/org/apache/shiro/authc/AuthenticationException.html"><code>AuthenticationException</code></a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Authenticator-ModularRealmAuthenticator">ModularRealmAuthenticator</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Shiro uses the <a href="/static/current/apidocs/org/apache/shiro/authc/pam/ModularRealmAuthenticator.html"><code>ModularRealmAuthenticator</code></a>
by default.
This implementation supports coordinating one or more <a href="/realm.html">Realms</a> during the authentication process.</p>
</div>
<div class="paragraph">
<p>When an authentication token is submitted, the ModularRealmAuthenticator:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Iterates through configured Realms</p>
</li>
<li>
<p>Calls each Realm&#8217;s <a href="/static/current/apidocs/org/apache/shiro/realm/Realm.html#supports(org.apache.shiro.authc.AuthenticationToken)"><code>supports(token)</code></a> method to determine if the Realm can process the token</p>
</li>
<li>
<p>If a Realm supports the token, its <a href="/static/current/apidocs/org/apache/shiro/realm/Realm.html#getAuthenticationInfo(org.apache.shiro.authc.AuthenticationToken)"><code>getAuthenticationInfo(token)</code></a> method is invoked</p>
</li>
<li>
<p>Returns authentication information if successful, or throws an exception if failed</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Authenticator-SingleVsMultipleRealms">Single vs. Multiple Realms</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The ModularRealmAuthenticator supports both configurations:</p>
</div>
<div class="paragraph">
<p><strong>Single Realm</strong>:
When only one Realm is configured, the Authenticator directly invokes that Realm to verify the Subject&#8217;s credentials.</p>
</div>
<div class="paragraph">
<p><strong>Multiple Realms</strong>:
When multiple Realms are configured, the Authenticator uses an <a href="/static/current/apidocs/org/apache/shiro/authc/pam/AuthenticationStrategy.html"><code>AuthenticationStrategy</code></a>
to determine how to coordinate authentication across the Realms.
This is a <a href="https://en.wikipedia.org/wiki/Pluggable_Authentication_Modules">PAM</a>-style approach where each Realm can be consulted in sequence.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Authenticator-AuthenticationStrategy">AuthenticationStrategy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When multiple Realms are configured, the Authenticator must determine if the overall authentication attempt succeeds or fails.
The <a href="/static/current/apidocs/org/apache/shiro/authc/pam/AuthenticationStrategy.html"><code>AuthenticationStrategy</code></a> makes this determination.</p>
</div>
<div class="paragraph">
<p>Shiro provides three built-in strategies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>FirstSuccessfulStrategy</strong>: Consults Realms in order until one succeeds. Remaining Realms are not consulted.</p>
</li>
<li>
<p><strong>AtLeastOneSuccessfulStrategy</strong>: Returns success if at least one Realm succeeds. Other Realms continue to be consulted.</p>
</li>
<li>
<p><strong>AllSuccessfulStrategy</strong>: All Realms must succeed for authentication to succeed. This is the most restrictive.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can configure which strategy the Authenticator uses, or implement your own strategy for custom behavior.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Authenticator-Configuration">Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can configure a custom Authenticator in your Shiro configuration if needed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ini hljs" data-lang="ini">authenticator = com.foo.bar.CustomAuthenticator
securityManager.authenticator = $authenticator</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also configure the AuthenticationStrategy:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ini hljs" data-lang="ini">authenticationStrategy = org.apache.shiro.authc.pam.FirstSuccessfulStrategy
authenticator.authenticationStrategy = $authenticationStrategy</code></pre>
</div>
</div>
<div class="paragraph">
<p>However, in most cases, the default ModularRealmAuthenticator with the default strategy is sufficient for typical applications.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Authenticator-RealmInteraction">How Authenticators Work with Realms</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Authenticator does not directly know how to verify credentials.
Instead, it coordinates with configured Realms to perform the actual verification.</p>
</div>
<div class="paragraph">
<p>A <a href="/realm.html">Realm</a> is a security-specific data access object that can locate and validate user credentials from a data source
(database, LDAP, file system, etc.).
The Realm is responsible for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Determining if it understands the submitted AuthenticationToken via its <code>supports(token)</code> method</p>
</li>
<li>
<p>Looking up the user in the data source</p>
</li>
<li>
<p>Comparing submitted credentials with those stored in the data source</p>
</li>
<li>
<p>Returning the user&#8217;s authentication information if credentials match</p>
</li>
<li>
<p>Throwing an exception if credentials do not match</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Authenticator simply orchestrates this process by delegating to Realms in order and handling the results according to its configured strategy.</p>
</div>
</div>
</div>
	<hr />

</div> 

    <div class="footer-padding"></div>

    <div class="container-fluid pt-2 border-top" id="custom-footer">
      <footer class="row justify-content-between align-items-center">
        <div class=" col-md-5">
          <div class="copyright-footer justify-content-start">
            <a href="https://www.apache.org/foundation/contributing.html">Donate to the ASF</a>&nbsp;|&nbsp;
            <a href="https://www.apache.org/licenses/LICENSE-2.0.html">License</a>&nbsp;
            <p class="text-muted">Copyright &copy; 2008-2026 The Apache Software Foundation</p>
          </div>
        </div>

        <div class="d-flex justify-content-center col-md-1">
          <a class="btn btn-social"><span class="social-icon social-twitter"><i class="bi bi-twitter"></i></span></a>
          <a class="btn btn-social"><span class="social-icon social-facebook"><i class="bi bi-facebook"></i></span></a>
          <a class="btn btn-social"><span class="social-icon social-linkedin"><i class="bi bi-linkedin"></i></span></a>
        </div>

        <div class="d-flex justify-content-end col-md-4" id="editThisPage">
          <input type="hidden" id="ghEditPage" value="https://github.com/apache/shiro-site/edit/main/src/site/content/authenticator.adoc"/>
        </div>

        <div class="d-flex col-md-2 justify-content-end" style="position: relative">
          <div class="footer-shield"></div>
        </div>
      </footer>
    </div>


    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/bootstrap.min.js"></script>
    <script src="highlight.js-11.11.1/highlight.min.js"></script>
    <script src="js/shiro.js"></script>

    <script>
        docReady(
          addPageEditLink()
      );
    </script>
    <script>hljs.highlightAll();</script>

    </body>
</html>
